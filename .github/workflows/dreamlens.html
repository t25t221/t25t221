<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DreamLens</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(180deg, #1a0033, #330066, #4b0082);
      font-family: 'Playfair Display', serif;
      color: white;
      text-align: center;
      height: 100vh;
      overflow-x: hidden;
    }

    h1 {
      font-size: 3em;
      margin-top: 80px;
      animation: glow 3s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 10px #bb86fc, 0 0 20px #bb86fc;
      }
      to {
        text-shadow: 0 0 20px #d0aaff, 0 0 40px #d0aaff;
      }
    }

    .icon-container {
      margin-top: 60px;
      display: flex;
      justify-content: center;
      gap: 60px;
    }

    .icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }

    .icon:hover {
      transform: scale(1.1);
      background-color: rgba(255, 255, 255, 0.2);
    }

    .icon img {
      width: 40px;
      height: 40px;
      filter: brightness(0) invert(1);
    }

    button {
      padding: 12px 24px;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      background: rgba(255,255,255,0.2);
      color: white;
      cursor: pointer;
      margin: 8px;
    }

    textarea {
      width: 80%;
      max-width: 500px;
      padding: 10px;
      border-radius: 10px;
      font-size: 1em;
    }

    footer {
      position: absolute;
      bottom: 20px;
      width: 100%;
      font-size: 0.9em;
      color: #cccccc;
    }
  </style>
</head>
<body>
  <h1>DreamLens</h1>
  <p>ë‹¹ì‹ ì˜ ê¿ˆì€ ì˜¤ëŠ˜ ì–´ë–¤ ìƒ‰ì¸ê°€ìš”?</p>

  <!-- ğŸ¤ ìŒì„± ì•„ì´ì½˜ -->
  <div class="icon-container">
    <a href="#" class="icon" title="ìŒì„±ìœ¼ë¡œ ì‹œì‘í•˜ê¸°">
      <img src="https://img.icons8.com/ios-filled/50/microphone.png" alt="Voice">
    </a>

    <!-- âœï¸ Claudeë¡œ ê¸€ë¡œ ìƒìƒí•˜ê¸° -->
    <a href="https://claude.ai" target="_blank" class="icon" title="ê¸€ë¡œ ìƒìƒí•˜ê¸°">
      <img src="https://img.icons8.com/ios-filled/50/feather.png" alt="Feather">
    </a>

    <!-- ğŸ¬ Runwayë¡œ ì˜ìƒí™” -->
    <a href="https://runwayml.com" target="_blank" class="icon" title="ì˜ìƒìœ¼ë¡œ ë§Œë“¤ê¸°">
      <img src="https://img.icons8.com/ios-filled/50/search--v1.png" alt="Search">
    </a>
  </div>

  <!-- ğŸ—£ï¸ ìŒì„± ì¸ì‹ ê²°ê³¼ -->
  <p id="speechResult" style="margin-top: 30px; font-size: 1.2em;"></p>

  <!-- âœ¨ ê¿ˆ ê¸°ë¡ ë° ëª©ë¡ -->
  <div style="margin-top: 40px;">
    <button onclick="openDreamInput()">ğŸŒ™ ê¿ˆ ê¸°ë¡í•˜ê¸°</button>
    <button onclick="showDreams()">ğŸ“˜ ë‚´ ê¿ˆ ëª©ë¡</button>
  </div>

  <div id="dreamInputSection" style="display:none; margin-top: 30px;">
    <textarea id="dreamText" rows="5" placeholder="ë‹¹ì‹ ì˜ ê¿ˆì„ ììœ ë¡­ê²Œ ì ì–´ë³´ì„¸ìš”..."></textarea><br>
    <button onclick="saveDream()">ì €ì¥</button>
  </div>

  <div id="dreamListSection" style="display:none; margin-top: 30px;">
    <h3 style="color:#ccccff;">âœ¨ ì €ì¥ëœ ê¿ˆë“¤</h3>
    <ul id="dreamList" style="list-style:none; padding:0;"></ul>
  </div>

  <footer>
    â“’ 2025 DreamLens. ê¿ˆì€ í˜„ì‹¤ë³´ë‹¤ ë” ë†€ë¼ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  </footer>

  <!-- ğŸ’» ìŠ¤í¬ë¦½íŠ¸: ìŒì„± ì¸ì‹ + Claude ì—°ë™ + ê¿ˆ ì €ì¥/ëª©ë¡ -->
  <script>
    let lastTranscript = "";
    const micButton = document.querySelector('a[title="ìŒì„±ìœ¼ë¡œ ì‹œì‘í•˜ê¸°"]');
    const featherButton = document.querySelector('a[title="ê¸€ë¡œ ìƒìƒí•˜ê¸°"]');
    const speechResult = document.getElementById("speechResult");

    micButton.addEventListener("click", function (event) {
      event.preventDefault();
      if (!("webkitSpeechRecognition" in window)) {
        alert("ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì¸ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        return;
      }

      const recognition = new webkitSpeechRecognition();
      recognition.lang = "ko-KR";
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      recognition.start();

      recognition.onresult = function (event) {
        lastTranscript = event.results[0][0].transcript;
        speechResult.textContent = "ğŸ—£ï¸ ë‹¹ì‹ ì´ ë§í•œ ë‚´ìš©: " + lastTranscript;
      };

      recognition.onerror = function (event) {
        alert("ìŒì„± ì¸ì‹ ì˜¤ë¥˜: " + event.error);
      };
    });

    featherButton.addEventListener("click", function (event) {
      if (lastTranscript) {
        const encoded = encodeURIComponent(lastTranscript);
        featherButton.href = `https://claude.ai/?q=${encoded}`;
      }
    });

    function openDreamInput() {
      document.getElementById("dreamInputSection").style.display = "block";
      document.getElementById("dreamListSection").style.display = "none";
    }

    function saveDream() {
      const text = document.getElementById("dreamText").value.trim();
      if (text) {
        const dreams = JSON.parse(localStorage.getItem("dreamLensDreams") || "[]");
        dreams.unshift({ text: text, date: new Date().toLocaleString() });
        localStorage.setItem("dreamLensDreams", JSON.stringify(dreams));
        document.getElementById("dreamText").value = "";
        alert("ê¿ˆì´ ì €ì¥ë˜ì—ˆì–´ìš”! ğŸŒ™");
      }
    }

    function showDreams() {
      document.getElementById("dreamInputSection").style.display = "none";
      document.getElementById("dreamListSection").style.display = "block";

      const dreams = JSON.parse(localStorage.getItem("dreamLensDreams") || "[]");
      const list = document.getElementById("dreamList");
      list.innerHTML = "";

      if (dreams.length === 0) {
        list.innerHTML = "<li>ì €ì¥ëœ ê¿ˆì´ ì•„ì§ ì—†ì–´ìš”.</li>";
      } else {
        dreams.forEach(dream => {
          const li = document.createElement("li");
          li.style.marginBottom = "12px";
          li.innerHTML = `<div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;">
                            <strong>${dream.date}</strong><br>${dream.text}
                          </div>`;
          list.appendChild(li);
        });
      }
    }
  </scrip